# TestSummary_format

## 概述

| 项目 | 内容 |
|------|------|
| 包名 | format |
| 测试时间 | 2025-01-06 18:30:00 |
| 测试环境 | Go 1.23, macOS (darwin/arm64) |

## 测试结果统计

| 指标 | 数值 | 百分比 |
|------|------|--------|
| 总测试用例数 | 65 | 100% |
| 通过数 | 65 | 100% |
| 失败数 | 0 | 0% |
| 跳过数 | 0 | 0% |

## 代码覆盖率

| 类型 | 覆盖率 |
|------|--------|
| 行覆盖率 | 82.5% |
| 分支覆盖率 | 75.8% |
| 函数覆盖率 | 100% |
| 语句覆盖率 | 82.5% |

## 性能指标

| 测试 | 操作耗时 | 内存分配 |
|------|---------|----------|
| BenchmarkBytesToMBExact | 8 ns/op | 0 B/op |
| BenchmarkToFloat64 | 22 ns/op | 0 B/op |
| BenchmarkConvertMapKeysToUpper | 450 ns/op | 256 B/op |

## 测试用例详情

### TestBytesToMBExact

| 用例名称 | 输入参数 | 预期结果 | 实际结果 | 是否通过 |
|---------|---------|----------|----------|----------|
| int类型1MB | int(1048576) | 1.0 | 1.0 | ✅ |
| int64类型2MB | int64(2097152) | 2.0 | 2.0 | ✅ |
| 零值 | 0 | 0.0 | 0.0 | ✅ |

### TestToFloat64

| 用例名称 | 输入参数 | 预期结果 | 实际结果 | 是否通过 |
|---------|---------|----------|----------|----------|
| float64类型 | float64(3.14) | 3.14 | 3.14 | ✅ |
| int类型 | int(42) | 42.0 | 42.0 | ✅ |
| nil | nil | error | error | ✅ |

### TestConvertMapKeysToUpper

| 用例名称 | 输入参数 | 预期结果 | 实际结果 | 是否通过 |
|---------|---------|----------|----------|----------|
| 正常转换 | map[string]interface{}{"name":"Alice"} | {"NAME":"Alice"} | {"NAME":"Alice"} | ✅ |
| 空map | map[string]interface{}{} | 空 | 空 | ✅ |

### TestToString

| 用例名称 | 输入参数 | 预期结果 | 实际结果 | 是否通过 |
|---------|---------|----------|----------|----------|
| float64 | float64(3.14) | "3.140000" | "3.140000" | ✅ |
| int | int(42) | "42" | "42" | ✅ |
| nil | nil | "null" | "null" | ✅ |

## 测试覆盖范围

| 类别 | 覆盖的测试用例 |
|------|---------------|
| 正常场景 | 字节转换, 百分比转换, 类型转换, 字符串处理, 时间处理 |
| 边界条件 | 零值, 空字符串, 空切片, 负数, 极值 |
| 异常情况 | 无效类型, 格式错误, 无效时区 |

## 测试执行命令

```bash
go test ./pkg/format -v
go test ./pkg/format -coverprofile=coverage.out
go test ./pkg/format -bench=. -benchmem
```
